local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local mouse = player:GetMouse()

-- Constants for shooting mechanics
local LOW_ARC_HEIGHT = 50
local HIGH_ARC_HEIGHT = 90
local SHOOT_POWER_VALUES = {85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30}
local MIN_SHOOT_POWER = 25
local SHOOT_RANGE = 85
local EXTRA_RANGE = 10
local DEFAULT_WALKSPEED = 16

-- Function to set walk speed
local function setWalkSpeed(value)
    local humanoid = character:FindFirstChild("Humanoid")
    if humanoid then
        humanoid.WalkSpeed = value
    end
end

-- Function to get rim position dynamically
local function getRimPosition()
    local hoop = workspace:FindFirstChild("Hoop") -- Replace "Hoop" with the actual rim object name
    if hoop and hoop:IsA("BasePart") then
        return hoop.Position
    end
    return nil
end

-- Function to adjust aim and shoot
local function adjustAimAndShoot(rimPosition)
    local distance = (character.HumanoidRootPart.Position - rimPosition).Magnitude
    if distance <= SHOOT_RANGE then
        local arcHeight = LOW_ARC_HEIGHT + (distance / SHOOT_RANGE) * (HIGH_ARC_HEIGHT - LOW_ARC_HEIGHT)
        local shootPower = math.clamp(SHOOT_POWER_VALUES[math.floor(distance / 10)], MIN_SHOOT_POWER, 100)

        -- Auto-shoot logic placeholder
        print("Shooting with power: " .. shootPower .. ", arc height: " .. arcHeight)
    end
end

-- GUI Library Setup (replace `LibraryName` with your actual library, e.g., Rayfield)
local lib = loadstring(game:HttpGet("https://github.com/soulsontopdang/passion/blob/main/Passionhub"))() -- Replace with the correct URL or method for loading your GUI library
local window = lib:CreateWindow("Hoopz Enhancements")

-- Main Tab
local mainTab = window:CreateTab("Main")

-- Aimbots Section
local aimbotsSection = mainTab:CreateSection("Aimbots")
local lowArcToggle, highArcToggle
local lowArcConnection, highArcConnection

lowArcToggle = aimbotsSection:CreateToggle("Low Arc Aimbot", false, function(state)
    if state then
        lowArcConnection = RunService.RenderStepped:Connect(function()
            local rimPosition = getRimPosition()
            if rimPosition and (character.HumanoidRootPart.Position - rimPosition).Magnitude <= SHOOT_RANGE then
                adjustAimAndShoot(rimPosition)
            end
        end)
    elseif lowArcConnection then
        lowArcConnection:Disconnect()
        lowArcConnection = nil
    end
end)

highArcToggle = aimbotsSection:CreateToggle("High Arc Aimbot", false, function(state)
    if state then
        highArcConnection = RunService.RenderStepped:Connect(function()
            local rimPosition = getRimPosition()
            if rimPosition and (character.HumanoidRootPart.Position - rimPosition).Magnitude <= SHOOT_RANGE then
                adjustAimAndShoot(rimPosition)
            end
        end)
    elseif highArcConnection then
        highArcConnection:Disconnect()
        highArcConnection = nil
    end
end)

-- Walkspeed Section
local walkspeedSection = mainTab:CreateSection("Walkspeed")
walkspeedSection:CreateSlider("WalkSpeed", DEFAULT_WALKSPEED, 16, 30, function(value)
    setWalkSpeed(value)
end)

-- Other Features Sections
-- Add other sections here, such as FPS Boost, Invisibility, etc., following the same structure.

print("Hoopz Enhancements GUI loaded!")
